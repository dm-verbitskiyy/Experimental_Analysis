# Experimental Analysis

## Анализ эффективности новой механики оплаты в рамках A/B-тестирования и оптимизация пользовательского опыта на образовательной платформе

Исследование выполнено с использованием Jupyter Notebook на языках программирования Python и SQL. В процессе анализа данных применялись следующие библиотеки py: pandas, requests, urllib.parse (urlencode), numpy, scipy.stats (ttest_ind, chi2_contingency), seaborn, pandahouse, matplotlib.


---

## PY:

В ходе эксперимента целевой группе предложена новая механика оплаты услуг на сайте, в то время как у контрольной группы осталась базовая механика. 

### Задачи для Анализа:

1) Проанализировать результаты эксперимента и сформулировать выводы относительно целесообразности внедрения новой механики оплаты для всех пользователей.

2) Создать функцию, которая автоматически загружает информацию из дополнительного файла groups_add.csv и пересчитывает метрики на основе дополнительных параметров.

3) Создать функцию для построения графиков на основе полученных метрик. 

### Описание Данных:

- groups.csv - файл с информацией о принадлежности пользователя к контрольной или экспериментальной группе (А – контроль, B – целевая группа) 

- groups_add.csv - дополнительный файл с пользователями, который вам прислали спустя 2 дня после передачи данных

- active_studs.csv - файл с информацией о пользователях, которые зашли на платформу в дни проведения эксперимента. 

- checks.csv - файл с информацией об оплатах пользователей в дни проведения эксперимента. 

### Вывод: 

В целом, основываясь на проведенных тестах, можно сделать вывод, что средний доход на пользователя и конверсионная ставка не различаются между группами A и B, в то время как средний доход на пользователя отличается. Таким образом, результаты свидетельствуют о том, что новая механика оплаты имеет статистически значимое воздействие на средний чек пользователя. Тем самым, внедрение новой механики имеет смысл.

---

## SQL:

### 1) Образовательные курсы состоят из различных уроков, каждый из которых состоит из нескольких маленьких заданий. Каждое такое маленькое задание будем называть подзадачей.

- Написать оптимальный SQL-запрос для получения информации о количестве очень усердных студентов. Определить усердных студентов как тех, кто правильно решил как минимум 20 задач за текущий месяц.

### Описание Данных:

 - default.peas:

Название атрибута - Тип атрибута - Смысловое значение

st_id - int - ID ученика

timest - timestamp - Время решения карточки

correct - bool - Правильно ли решена подзадача?

subject - text - Дисциплина, в которой находится подзадача

---

### 2) Образовательная платформа предлагает пройти студентам курсы по модели trial: студент может решить бесплатно лишь 30 подзадач в день. Для неограниченного количества заданий в определенной дисциплине студенту необходимо приобрести полный доступ. Команда провела эксперимент, где был протестирован новый экран оплаты.

- Написать SQL-запрос для получения следующей информации о группах пользователей: ARPU;  ARPAU;  CR в покупку;  CR активного пользователя в покупку;  CR пользователя из активности по математике в покупку курса по математике;

(Активным считается пользователь, за все время решивший больше 10 задач правильно в любых дисциплинах.Активным по математике считается пользователь, за все время решивший 2 или больше задач правильно по математике.)

### Описание Данных:

- default.peas:

Название атрибута - Тип атрибута - Смысловое значение

st_id - int - ID ученика

timest - timestamp - Время решения карточки

correct - bool - Правильно ли решена подзадача?

subject - text - Дисциплина, в которой находится подзадача

- default.studs:

Название атрибута - Тип атрибута - Смысловое значение

st_id - int - ID ученика

test_grp - text - Метка ученика в данном эксперименте

- default.final_project_check:

Название атрибута - Тип атрибута - Смысловое значение

st_id - int - ID ученика

sale_time - timestamp - Время покупки

money - int - Цена, по которой приобрели данный курс

subject - text

### Вывод: 

- Группа "pilot" имеет более высокие показатели ARPU и ARPAU по сравнению с группой "control".

- Конверсия в покупку (CR_for_purchase) в группе "pilot" также выше, что свидетельствует о более эффективной монетизации.

- CR_AU_for_purchase и CR_math_purchase также показывают преимущество группы "pilot" в привлечении активных пользователей и пользователей, активных в математике, соответственно.

### Общий вывод: Эксперимент с новым экраном оплаты (группа "pilot") привел к улучшению ключевых показателей монетизации и привлечения активных пользователей, что делает его более успешным по сравнению с группой "control". Рекомендуется продолжить использование нового экрана оплаты.


